(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{274:function(t,s,a){t.exports=a.p+"assets/img/1.1c7adf87.jpg"},275:function(t,s,a){t.exports=a.p+"assets/img/2.0f435491.jpg"},276:function(t,s,a){t.exports=a.p+"assets/img/3.42dea22f.jpg"},277:function(t,s,a){t.exports=a.p+"assets/img/4.7d968e0b.jpg"},278:function(t,s,a){t.exports=a.p+"assets/img/5.b3484f40.jpg"},279:function(t,s,a){t.exports=a.p+"assets/img/6.c0b1114b.jpg"},280:function(t,s,a){t.exports=a.p+"assets/img/7.d057c9c5.jpg"},281:function(t,s,a){t.exports=a.p+"assets/img/8.20faf255.jpg"},282:function(t,s,a){t.exports=a.p+"assets/img/9.9085f903.jpg"},283:function(t,s,a){t.exports=a.p+"assets/img/10.3a437e2b.jpg"},284:function(t,s,a){t.exports=a.p+"assets/img/11.f3c9d396.jpg"},285:function(t,s,a){t.exports=a.p+"assets/img/12.6b4bbe01.jpg"},286:function(t,s,a){t.exports=a.p+"assets/img/13.5b915a6c.jpg"},287:function(t,s,a){t.exports=a.p+"assets/img/14.af02bf89.jpg"},420:function(t,s,a){"use strict";a.r(s);var n=a(0),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h3",{attrs:{id:"为什什么要进⾏行行性能优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#为什什么要进⾏行行性能优化"}},[t._v("#")]),t._v(" 为什什么要进⾏行行性能优化?")]),t._v(" "),n("p",[t._v("57%的⽤用户更更在乎⽹网⻚页在3秒内是否完成加载。\n52%的在线⽤用户认为⽹网⻚页打开速度影响到他们对⽹网站的忠实度。\n每慢1秒造成⻚页⾯面 PV降低11%，⽤用户满意度也随之降低降低16%。\n近半数移动⽤用户因为在10秒内仍未打开⻚页⾯面从⽽而放弃。")]),t._v(" "),n("h3",{attrs:{id:"性能优化学徒⼯工"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#性能优化学徒⼯工"}},[t._v("#")]),t._v(" 性能优化学徒⼯工")]),t._v(" "),n("p",[n("img",{attrs:{src:a(274),alt:"An image"}})]),t._v(" "),n("h4",{attrs:{id:"localstorage的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#localstorage的使用"}},[t._v("#")]),t._v(" localstorage的使用")]),t._v(" "),n("p",[t._v("https://github.com/addyosmani/basket.js\n1.\nobj{\na.js : 'a.xxxx5.js'\n}")]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[n("p",[t._v("active.js")])]),t._v(" "),n("li",[n("p",[t._v("a.js")])]),t._v(" "),n("li",[n("p",[t._v("active('a.js')")])]),t._v(" "),n("li",[n("p",[t._v("localStorage['a.js'] -> script src = 'a.js'(没有存过)\nscript src = 'a.js' -> localStorage['a.js'] = 'a.xxxx5.js'\n-> localStorage['a.xxxx5.js'] = 'a.js详细内容")]),t._v(" "),n("pre",[n("code",[t._v("                 -> (有存过) localStorage['a.js'] == obj['a.js']\n                 -> eval(localStorage['a.xxxx5.js'])\n                 -> 请求并重新缓存\n")])])])]),t._v(" "),n("p",[t._v("5M 2.5M很多机型会变的很卡")]),t._v(" "),n("p",[t._v("异步50M Web SQL关系型数据库  IndexedDB非关系型数据库(安卓4.4以上支持)")]),t._v(" "),n("h4",{attrs:{id:"缓存优先级"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓存优先级"}},[t._v("#")]),t._v(" 缓存优先级")]),t._v(" "),n("p",[n("img",{attrs:{src:a(275),alt:"An image"}}),t._v("\netag / if-none-match 和 expires区别 一个是强缓 并且expires时间不够精缺 存在10几毫秒误差\n"),n("img",{attrs:{src:a(276),alt:"An image"}})]),t._v(" "),n("h4",{attrs:{id:"http"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" http")]),t._v(" "),n("p",[t._v("http2出现也就可以放弃打包压缩那一步了\n"),n("img",{attrs:{src:a(277),alt:"An image"}})]),t._v(" "),n("h3",{attrs:{id:"渲染中性能优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#渲染中性能优化"}},[t._v("#")]),t._v(" 渲染中性能优化")]),t._v(" "),n("p",[n("img",{attrs:{src:a(278),alt:"An image"}}),t._v("\nComposite Layers 合成层\nUpdate Layer Tree 更新层树\nRecalculate Style 重新计算样式\nLayout 重排\nPaint 重绘")]),t._v(" "),n("h4",{attrs:{id:"重绘重排"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重绘重排"}},[t._v("#")]),t._v(" 重绘重排")]),t._v(" "),n("p",[n("strong",[t._v("重绘重排 网页整体渲染过程")]),t._v("\n1、获取dom分隔层\n2、根据每层节点结算样式结果Recalculate Style\n3、为每个节点生成图形和位置Layout\n4、将每个节点回执填充到当前帧的位置中Paint\n5、将图层上传的到GPU gpu bitmap专门处理图像\n6、根据符合要求的多个图层合并生成图像 给你看Composite Layers")]),t._v(" "),n("p",[n("strong",[t._v("什么情况下分层")]),t._v("\n根元素(页面为什么开始会绿)、position、transform、半透明、滤镜、canvas、video、overflow\n"),n("strong",[t._v("gpu直接参与")]),t._v("\ncss3d、video、webglk、transform、滤镜、硬件加速\n"),n("strong",[t._v("重排引起重绘，重绘不一定引起重排")]),t._v("\nbox-show color\n"),n("strong",[t._v("重排")]),t._v("\n挤一挤让一让、添加删除、元素位置变化、元素尺寸变化、页面初始化、读取一些属性offset scroll client width\n"),n("strong",[t._v("优化")]),t._v("\nvar h1 = $('h1').clientheight;\nvar h1 = $('h1').clientheight;\nrequstAnimationFrame ===> 等到下一帧统一的写统一的读\n$('h1').css('height',h1)\n$('h1').css('height',h1)")]),t._v(" "),n("h3",{attrs:{id:"⻚页⾯面加载性能优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#⻚页⾯面加载性能优化"}},[t._v("#")]),t._v(" ⻚页⾯面加载性能优化")]),t._v(" "),n("p",[n("img",{attrs:{src:a(279),alt:"An image"}}),t._v(" "),n("img",{attrs:{src:a(280),alt:"An image"}}),t._v("\nFP第一个像素点落地\nTTI交互时间")]),t._v(" "),n("p",[n("img",{attrs:{src:a(281),alt:"An image"}}),t._v(" "),n("img",{attrs:{src:a(282),alt:"An image"}}),t._v(" "),n("img",{attrs:{src:a(283),alt:"An image"}}),t._v(" "),n("img",{attrs:{src:a(284),alt:"An image"}}),t._v(" "),n("img",{attrs:{src:a(285),alt:"An image"}})]),t._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"container"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ball"')]),t._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ball"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("ball"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PerformanceObserver")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("list")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" entry "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntries")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    observer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" entryTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'paint'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("p",[t._v('PerformancePaintTiming {name: "first-paint", entryType: "paint", startTime: 16.30499999737367, duration: 0}\nduration: 0\nentryType: "paint"\n'),n("strong",[t._v("FP")]),t._v('\nname: "first-paint"\nstartTime: 16.30499999737367\n'),n("strong",[t._v("proto")]),t._v(": PerformancePaintTiming\nindex.html:61\n"),n("strong",[t._v("FCP")]),t._v('\nPerformancePaintTiming {name: "first-contentful-paint", entryType: "paint", startTime: 16.315000000759028, duration: 0}\nduration: 0\nentryType: "paint"\nname: "first-contentful-paint"\nstartTime: 16.315000000759028\n'),n("strong",[t._v("proto")]),t._v(": PerformancePaintTiming")]),t._v(" "),n("p",[n("img",{attrs:{src:a(286),alt:"An image"}})]),t._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    arr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PerformanceObserver")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("list")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" entry "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" list"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntries")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entry"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nobserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" entryTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'longtask'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("p",[t._v('PerformanceLongTaskTiming {attribution: Array(1), name: "self", entryType: "longtask", startTime: 12.879999994765967, duration: 303.82500000996515}\nattribution: [TaskAttributionTiming]\nduration: 303.82500000996515\n'),n("strong",[t._v("longtask")]),t._v('\nentryType: "longtask"\nname: "self"\nstartTime: 12.879999994765967\n'),n("strong",[t._v("proto")]),t._v(": PerformanceLongTaskTiming")]),t._v(" "),n("p",[n("img",{attrs:{src:a(287),alt:"An image"}})]),t._v(" "),n("h3",{attrs:{id:"nodejs性能优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nodejs性能优化"}},[t._v("#")]),t._v(" nodejs性能优化")])])}),[],!1,null,null,null);s.default=r.exports}}]);